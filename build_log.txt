
> nextn@0.1.0 prebuild
> npm run db:migrate


> nextn@0.1.0 db:migrate
> node ./scripts/run-migrations.js

Skipping 001_init.sql
Skipping 002_material_fields.sql
Skipping 003_add_trashed_at.sql
Skipping 004_add_order_number.sql
Skipping 005_create_production_tasks.sql
Skipping 006_drop_unused_warehouses.sql
Skipping 007_create_users.sql
Skipping 008_add_material_metadata.sql
Skipping 009_preconditions.sql
Skipping 010_add_optimizations.sql
Skipping 011_add_order_item_conditions.sql
Skipping 012_create_production_reservations.sql
Skipping 013_full_persistence.sql
Skipping 014_add_order_source.sql
Skipping 015_manual_order_counters.sql
Skipping 016_realign_order_counters_timezone.sql
Skipping 017_add_notifications_user_target.sql
Skipping 018_unique_notification_dedupe.sql
Skipping 019_add_order_item_description.sql
Skipping 020_seed_admin_gmail.sql
Skipping 021_add_mrp_suggestions.sql
Skipping 022_add_mrp_suggestions_status.sql
Skipping 023_ensure_mrp_suggestions_columns.sql
Skipping 024_convert_mrp_material_id.sql
Skipping 025_add_mrp_suggestions_unique_material.sql
Skipping 026_make_mrp_material_id_unique.sql
Skipping 027_dashboard_materialized_views.sql
Skipping 028_site_settings.sql
Skipping 029_add_site_logo_blob.sql
Skipping 030_inventory_receipts_snapshot_view.sql
Migrations complete

> nextn@0.1.0 build
> next build

   ▲ Next.js 15.5.9
   - Environments: .env.local, .env

   Creating an optimized production build ...
 ✓ Compiled successfully in 26.7s
   Linting and checking validity of types ...

./app/admin/page.tsx
262:9  Warning: 'previewCompanyName' is assigned a value but never used. Allowed unused vars must match /^_/u.  @typescript-eslint/no-unused-vars

./app/api/auth/logout/route.ts
1:10  Warning: 'NextRequest' is defined but never used. Allowed unused vars must match /^_/u.  @typescript-eslint/no-unused-vars

./app/api/preconditions/[categoryId]/values/route.ts
4:6  Warning: 'Params' is defined but never used. Allowed unused vars must match /^_/u.  @typescript-eslint/no-unused-vars

./app/api/preconditions/[categoryId]/values/[valueId]/route.ts
4:6  Warning: 'Params' is defined but never used. Allowed unused vars must match /^_/u.  @typescript-eslint/no-unused-vars

./app/dashboard/client-dashboard.tsx
3:61  Warning: 'Plus' is defined but never used. Allowed unused vars must match /^_/u.  @typescript-eslint/no-unused-vars
4:10  Warning: 'Button' is defined but never used. Allowed unused vars must match /^_/u.  @typescript-eslint/no-unused-vars
224:9  Warning: 'selectedOrder' is assigned a value but never used. Allowed unused vars must match /^_/u.  @typescript-eslint/no-unused-vars
226:9  Warning: 'stockByMaterial' is assigned a value but never used. Allowed unused vars must match /^_/u.  @typescript-eslint/no-unused-vars
238:9  Warning: 'producingSet' is assigned a value but never used. Allowed unused vars must match /^_/u.  @typescript-eslint/no-unused-vars
249:13  Warning: 'first' is assigned a value but never used. Allowed unused vars must match /^_/u.  @typescript-eslint/no-unused-vars

./app/materials/page.tsx
266:14  Warning: 'e' is defined but never used.  @typescript-eslint/no-unused-vars

./app/orders/page.tsx
440:6  Warning: React Hook React.useEffect has a missing dependency: 'selectedOrder'. Either include it or remove the dependency array.  react-hooks/exhaustive-deps

./app/orders/trash/page.tsx
26:10  Warning: 'stockReservations' is assigned a value but never used. Allowed unused vars must match /^_/u.  @typescript-eslint/no-unused-vars

./app/picking/page.tsx
35:10  Warning: 'loading' is assigned a value but never used. Allowed unused vars must match /^_/u.  @typescript-eslint/no-unused-vars

info  - Need to disable some ESLint rules? Learn more here: https://nextjs.org/docs/app/api-reference/config/eslint#disabling-rules
   Collecting page data ...
   Generating static pages (0/34) ...
   Generating static pages (8/34) 
   Generating static pages (16/34) 
Redis conectado em: 144.91.89.174
   Generating static pages (25/34) 
[cache][redis] CACHE MISS dashboard:snapshot (826ms)
[cache][redis] CACHE SET dashboard:snapshot ttl=60s (411ms)
 ✓ Generating static pages (34/34)
   Finalizing page optimization ...
   Collecting build traces ...

Route (app)                                              Size  First Load JS  Revalidate  Expire
┌ ○ /                                                   198 B         102 kB
├ ○ /_not-found                                          1 kB         103 kB
├ ○ /admin                                            3.44 kB         154 kB
├ ƒ /api/auth/login                                     198 B         102 kB
├ ƒ /api/auth/logout                                    198 B         102 kB
├ ƒ /api/auth/me                                        198 B         102 kB
├ ƒ /api/inventory                                      198 B         102 kB
├ ƒ /api/materials                                      198 B         102 kB
├ ƒ /api/materials/[id]                                 198 B         102 kB
├ ƒ /api/mrp-suggestions                                198 B         102 kB
├ ƒ /api/notifications                                  198 B         102 kB
├ ƒ /api/orders                                         198 B         102 kB
├ ƒ /api/orders/[id]                                    198 B         102 kB
├ ƒ /api/orders/submit                                  198 B         102 kB
├ ƒ /api/ping                                           198 B         102 kB
├ ƒ /api/preconditions                                  198 B         102 kB
├ ƒ /api/preconditions/[categoryId]/values              198 B         102 kB
├ ƒ /api/preconditions/[categoryId]/values/[valueId]    198 B         102 kB
├ ƒ /api/production                                     198 B         102 kB
├ ƒ /api/production/[id]                                198 B         102 kB
├ ƒ /api/receipts                                       198 B         102 kB
├ ƒ /api/receipts/[id]                                  198 B         102 kB
├ ƒ /api/reservations                                   198 B         102 kB
├ ƒ /api/site                                           198 B         102 kB
├ ƒ /api/users                                          198 B         102 kB
├ ƒ /api/users/[id]                                     198 B         102 kB
├ ƒ /api/users/[id]/avatar                              198 B         102 kB
├ ○ /clear-data                                         404 B         102 kB
├ ○ /dashboard                                        10.6 kB         223 kB         15s      1y
├ ○ /inventory                                        7.45 kB         126 kB
├ ○ /login                                            6.75 kB         122 kB
├ ○ /materials                                        20.8 kB         141 kB
├ ○ /mrp                                              11.2 kB         238 kB
├ ○ /orders                                           7.42 kB         153 kB
├ ○ /orders/trash                                     7.16 kB         117 kB
├ ○ /picking                                           4.1 kB         265 kB
├ ○ /production                                       3.85 kB         256 kB
├ ○ /profile                                          5.99 kB         116 kB
└ ○ /report                                           2.39 kB         112 kB
+ First Load JS shared by all                          102 kB
  ├ chunks/1255-de0c1abd22c7cccd.js                   45.2 kB
  ├ chunks/4bd1b696-182b6b13bdad92e3.js               54.2 kB
  └ other shared chunks (total)                       2.25 kB


○  (Static)   prerendered as static content
ƒ  (Dynamic)  server-rendered on demand


> nextn@0.1.0 postbuild
> node ./scripts/postbuild-deploy.js

postbuild-deploy: deploy não acionado. Para habilitar, defina DEPLOY_ON_BUILD=1 ou AUTO_DEPLOY=1.
Para deploy automático com Vercel: set DEPLOY_ON_BUILD=1 e VERCEL_TOKEN.
Ou defina DEPLOY_COMMAND com o comando shell de deploy desejado.
